(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c119d87"],{"03b8":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"section"},[a("h1",{staticClass:"mb-5"},[e._v(e._s(e.pageName))]),a("b-form",[a("Dates",{attrs:{"form-data":e.formData}}),a("b-card",{staticClass:"mb-3 shadow-sm",attrs:{header:"Основное"}},[a("b-form-group",{attrs:{label:"Название","label-for":"name","invalid-feedback":e.getValidationMessage(e.$v.formData.name)}},[a("b-form-input",{attrs:{id:"name",state:e.getFieldState(e.$v.formData.name)},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name","string"===typeof t?t.trim():t)},expression:"formData.name"}})],1),a("b-form-group",{attrs:{label:"Тип","label-for":"type","invalid-feedback":e.getValidationMessage(e.$v.formData.realty_type_id)}},[a("b-select",{attrs:{id:"type",state:e.getFieldState(e.$v.formData.realty_type_id)},model:{value:e.formData.realty_type_id,callback:function(t){e.$set(e.formData,"realty_type_id",t)},expression:"formData.realty_type_id"}},[a("b-select-option",{attrs:{value:null}},[e._v("--- Выберите тип ---")]),e._l(e.types,(function(t,n){return a("b-select-option",{key:n,attrs:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])}))],2)],1)],1)],1),a("ConstructorActions",{attrs:{"cancel-to":{name:"admin.equipment"},"is-create-page":e.isCreatePage},on:{submit:e.onSubmit}})],1)},r=[],i=a("d4ec"),u=a("bee2"),c=a("262e"),o=a("2caf"),s=(a("b0c0"),a("9ab4")),d=a("1b40"),l=a("bf19"),m=a("1dce"),p=a("c67c"),f=a("b5ae"),b=a("c3e5"),y=a("de84"),v=a("6fc5"),h=a("37c5"),_=a("0763"),D=a("3855"),g=a("5732"),j=function(e){Object(c["a"])(a,e);var t=Object(o["a"])(a);function a(){var e;return Object(i["a"])(this,a),e=t.apply(this,arguments),e.entityName="комплектация недвижимости",e.types=[],e.formData={id:null,name:"",realty_type_id:null,created_at:null,updated_at:null},e}return Object(u["a"])(a,[{key:"onSubmit",value:function(){var e,t=this,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$v.$touch(),this.$v.$invalid?Object(v["e"])(h["a"],this.$store).setData({title:"Ошибка валидации!",text:"Проверте корректность и запоолненость полей",variant:"danger"}):(e=this.isCreatePage?D["a"].create(this.formData).then((function(e){Object(v["e"])(h["a"],t.$store).setData({title:"Запись успешно создана",variant:"success"}),t.$router.push({name:"admin.equipment.change",params:{id:e.data.id}})})):D["a"].update(this.formData).then((function(e){Object(v["e"])(h["a"],t.$store).setData({title:"Запись успешно изменена",variant:"success"}),t.updateFormData(e.data)})),e.then((function(){a&&t.$router.push({name:"admin.equipment"})})))}},{key:"updateFormData",value:function(e){this.formData={name:e.name,id:e.id,realty_type_id:e.realty_type_id,created_at:e.created_at,updated_at:e.updated_at}}},{key:"created",value:function(){var e=this;y["a"].getList().then((function(t){e.types=t.data}))}},{key:"watchIsCreatePage",value:function(e){var t=this;e||D["a"].get({id:this.$route.params.id}).then((function(e){return t.updateFormData(e.data)}))}}]),a}(Object(d["d"])(m["validationMixin"],p["a"],l["a"]));Object(s["a"])([Object(d["i"])("$route.meta.isCreatePage",{immediate:!0})],j.prototype,"watchIsCreatePage",null),j=Object(s["a"])([Object(d["a"])({components:{Dates:g["a"],UploadedImage:_["a"],ConstructorActions:b["a"]},validations:{formData:{name:{required:f["required"]},realty_type_id:{required:f["required"]}}}})],j);var O=j,k=O,$=a("2877"),w=Object($["a"])(k,n,r,!1,null,"5b9fcfde",null);t["default"]=w.exports},3855:function(e,t,a){"use strict";var n=a("5530"),r=a("d4ec"),i=a("bee2"),u=a("262e"),c=a("2caf"),o=(a("d3b7"),a("3949")),s=a("c873"),d=a("72df"),l=function(e){Object(u["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(r["a"])(this,a),t.apply(this,arguments)}return Object(i["a"])(a,null,[{key:"get",value:function(e){return new Promise((function(e){e({data:o.realtyType[0]})}))}},{key:"getList",value:function(){return new Promise((function(e){e({data:o.equipments})}))}},{key:"create",value:function(e){return s["a"].post("equipment",a.prepareFormData(e))}},{key:"update",value:function(e){return s["a"].post("equipment/"+e.id,a.prepareFormData(Object(n["a"])(Object(n["a"])({},e),{},{_method:"PUT"})))}},{key:"destroy",value:function(e){return s["a"].delete("equipment",{params:{id:e}})}}]),a}(d["a"]);t["a"]=l},de84:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("5530"),r=a("d4ec"),i=a("bee2"),u=a("262e"),c=a("2caf"),o=(a("b0c0"),a("d3b7"),a("3949")),s=a("c873"),d=a("72df"),l=function(e){Object(u["a"])(a,e);var t=Object(c["a"])(a);function a(e){var n;return Object(r["a"])(this,a),n=t.call(this),n.id=e.id,n.name=e.name,n}return Object(i["a"])(a,null,[{key:"get",value:function(e){return new Promise((function(e){e({data:o.realtyType[0]})}))}},{key:"getList",value:function(){return new Promise((function(e){e({data:o.realtyType})}))}},{key:"create",value:function(e){return s["a"].post("realtyType",a.prepareFormData(e))}},{key:"update",value:function(e){return s["a"].post("realtyType/"+e.id,a.prepareFormData(Object(n["a"])(Object(n["a"])({},e),{},{_method:"PUT"})))}},{key:"destroy",value:function(e){return s["a"].delete("realtyType",{params:{id:e}})}}]),a}(d["a"])}}]);
//# sourceMappingURL=chunk-7c119d87.ab9ffd7d.js.map